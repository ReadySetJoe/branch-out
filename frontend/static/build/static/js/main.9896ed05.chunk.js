(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{19:function(e,t,a){e.exports=a(45)},24:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(12),o=a.n(i),r=(a(24),a(13)),l=a(14),c=a(17),m=a(15),u=a(2),g=a(18),p=(a(25),a(43),a(44),function(e){var t={backgroundImage:"url(".concat(e.item.album.images[0].url,")")},a={width:100*e.progress_ms/e.item.duration_ms+"%"};return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"main-wrapper"},s.a.createElement("div",{className:"now-playing__img"},s.a.createElement("img",{alt:"Album art for now playing",src:e.item.album.images[0].url})),s.a.createElement("div",{className:"now-playing__side"},s.a.createElement("div",{className:"now-playing__name"},e.item.name),s.a.createElement("div",{className:"now-playing__artist"},e.item.artists[0].name),s.a.createElement("div",{className:"now-playing__status"},e.is_playing?"Playing":"Paused"),s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"progress__bar",style:a}))),s.a.createElement("div",{className:"background",style:t})," "))}),d=a(16),y=new(a.n(d).a),h=["user-read-currently-playing","user-read-playback-state","user-read-private","user-read-email","user-top-read","playlist-modify-public"],_=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{});console.log(_);var v=_.access_token;v&&(y.setAccessToken(v),console.log("access token set!")),window.location.hash="";var b=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0},is_playing:"Paused",progress_ms:0,top_artists:[]},e.getCurrentlyPlaying=e.getCurrentlyPlaying.bind(Object(u.a)(e)),e}return Object(g.a)(t,e),Object(l.a)(t,[{key:"getCurrentlyPlaying",value:function(){var e=this;y.getMyCurrentPlaybackState().then((function(t){e.setState({item:t.item,is_playing:t.is_playing,progress_ms:t.progress_ms}),console.log(t)})).catch((function(t){console.log(t),console.log(e.state)}))}},{key:"componentDidMount",value:function(){var e=_.access_token;e&&this.setState({token:e}),this.getCurrentlyPlaying()}},{key:"getNowPlaying",value:function(){var e=this;y.getMyCurrentPlaybackState().then((function(t){console.log(t),console.log(e.state),e.setState({nowPlaying:{name:t.item.name,image:t.item.album.images[0].url}})})).catch((function(t){console.log(t),console.log(e.state)}))}},{key:"getTopArtists",value:function(){var e=this;y.getMyTopArtists().then((function(t){e.setState({top_artists:t.items.map((function(e){return e.name}))})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("nav",null,s.a.createElement("ul",null)),!this.state.token&&s.a.createElement("a",{className:"btn btn--loginApp-link",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("45eecc039efd45ad9b8e183c653e2885","&redirect_uri=").concat("http://localhost:8000/","&scope=").concat(h.join("%20"),"&response_type=token&show_dialog=true")},"Login to Spotify"),this.state.token&&s.a.createElement(p,{item:this.state.item,is_playing:this.state.is_playing,progress_ms:this.progress_ms}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("button",{onClick:function(){return e.getTopArtists()}},"get top artists"),s.a.createElement("div",null,this.state.top_artists)))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.9896ed05.chunk.js.map