(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{25:function(e,t,a){e.exports=a(54)},30:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(16),i=a.n(r),l=(a(30),a(17)),o=a(18),c=a(24),m=a(19),u=a(3),p=a(23),g=(a(31),a(20)),d=a(21),y=a(22),h=a.n(y),_=(a(52),function(e){var t={backgroundImage:"url(".concat(e.item.album.images[0].url,")")},a={width:100*e.progress_ms/e.item.duration_ms+"%"};return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"main-wrapper"},s.a.createElement("div",{className:"now-playing__img"},s.a.createElement("img",{alt:"Album art for now playing",src:e.item.album.images[0].url})),s.a.createElement("div",{className:"now-playing__side"},s.a.createElement("div",{className:"now-playing__name"},e.item.name),s.a.createElement("div",{className:"now-playing__artist"},e.item.artists[0].name),s.a.createElement("div",{className:"now-playing__status"},e.is_playing?"Playing":"Paused"),s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"progress__bar",style:a}))),s.a.createElement("div",{className:"background",style:t})," "))}),v=(a(53),new h.a),b=["user-read-currently-playing","user-read-playback-state","user-read-private","user-read-email","user-top-read","playlist-modify-public"],f=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{});console.log(f);var E=f.access_token;E&&(v.setAccessToken(E),console.log("access token set!")),window.location.hash="";var k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0},is_playing:"Paused",progress_ms:0,top_artists:[]},a.getCurrentlyPlaying=a.getCurrentlyPlaying.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"getCurrentlyPlaying",value:function(){var e=this;v.getMyCurrentPlaybackState().then((function(t){e.setState({item:t.item,is_playing:t.is_playing,progress_ms:t.progress_ms}),console.log(t)})).catch((function(t){console.log(t),console.log(e.state)}))}},{key:"componentDidMount",value:function(){var e=f.access_token;e&&this.setState({token:e}),this.getCurrentlyPlaying()}},{key:"getTopArtists",value:function(){var e=this;v.getMyTopArtists().then((function(t){e.setState({top_artists:t.items.map((function(e){return e.name}))})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("nav",null,s.a.createElement("ul",null)),!this.state.token&&s.a.createElement("a",{className:"btn btn--loginApp-link",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("45eecc039efd45ad9b8e183c653e2885","&redirect_uri=").concat("http://localhost:8000/","&scope=").concat(b.join("%20"),"&response_type=token&show_dialog=true")},"Login to Spotify"),s.a.createElement("div",{className:"player-wrapper"},this.state.token&&s.a.createElement(_,{item:this.state.item,is_playing:this.state.is_playing,progress_ms:this.state.progress_ms}),this.state.token&&s.a.createElement("button",{className:"btn p-1 refresh-btn",onClick:function(){return e.getCurrentlyPlaying()}},s.a.createElement("span",{className:"p-1"},s.a.createElement(g.a,{icon:d.a})))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("button",{onClick:function(){return e.getTopArtists()}},"get top artists"),s.a.createElement("div",null,this.state.top_artists)))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.dc31add8.chunk.js.map