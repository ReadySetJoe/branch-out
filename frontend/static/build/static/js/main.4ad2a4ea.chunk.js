(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(2),r=n.n(o),s=(n(14),n(3)),c=n(4),l=n(7),u=n(5),m=n(8),g=(n(15),n(6)),h=new(n.n(g).a),p=function(t){function e(){var t;Object(s.a)(this,e);var n=(t=Object(l.a)(this,Object(u.a)(e).call(this))).getHashParams().access_token;return n&&h.setAccessToken(n),t.state={loggedIn:!!n,nowPlaying:{name:"not checked",image:""},topArtists:[],topArtistEvents:[]},t}return Object(m.a)(e,t),Object(c.a)(e,[{key:"getHashParams",value:function(){for(var t,e={},n=/([^&;=]+)=?([^&;]*)/g,a=window.location.hash.substring(1);t=n.exec(a);)e[t[1]]=decodeURIComponent(t[2]);return e}},{key:"getNowPlaying",value:function(){var t=this;h.getMyCurrentPlaybackState().then((function(e){t.setState({nowPlaying:{name:e.item.name,image:e.item.album.images[0].url}})}))}},{key:"getTopArtists",value:function(){var t=this;h.getMyTopArtists().then((function(e){t.setState({topArtists:e.items.map((function(t){return t.name}))})}))}},{key:"getTopArtistEvents",value:function(){var t=this;fetch("https://rest.bandsintown.com/artists/"+this.state.topArtists[1].split(" ").join("%20")+"/events?app_id=6a4c5bcaef444a66f8ca08be6adb9be8").then((function(t){return t.json()})).then((function(e){console.log(e),t.setState({isLoaded:!0,topArtistEvents:e.map((function(t){return[t.lineup[0],"will be playing at",t.venue.name,"in",t.venue.city,",",t.venue.region,"at",t.datetime].join()}))})}),(function(e){t.setState({isLoaded:!0,error:e})}))}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("a",{href:"/social/login/spotify/"},"Spotify"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("a",{href:"http://localhost:8888"},i.a.createElement("button",null,"log in to Spotify")),i.a.createElement("button",{onClick:function(){return t.getNowPlaying()}},"get now playing"),i.a.createElement("div",null,this.state.nowPlaying.name,":"),i.a.createElement("div",null,i.a.createElement("img",{src:this.state.nowPlaying.image,style:{width:100}})),i.a.createElement("button",{onClick:function(){return t.getTopArtists()}},"get top artists"),i.a.createElement("div",null,this.state.topArtists),i.a.createElement("button",{onClick:function(){return t.getTopArtistEvents()}}," get top artist events "),i.a.createElement("div",null,this.state.topArtistEvents),i.a.createElement("button",{onClick:function(){return t.getMyLocation()}},"get user location"),i.a.createElement("div",null)))}}]),e}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},9:function(t,e,n){t.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.4ad2a4ea.chunk.js.map